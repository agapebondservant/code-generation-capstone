## Appendix A Servlet and JSP Quick Reference

## Connection pool timing results

| Condition                                                                                             | Average Time   |
|-------------------------------------------------------------------------------------------------------|----------------|
| Slow modem connection to database, no con- nection pooling ( ConnectionPoolServlet3 )                 | 82 seconds     |
| Fast LAN connection to database, 10 initial connections, 50 max connections ( ConnectionPoolServlet ) | 1.8 seconds    |
| Fast LAN connection to database, recycling a single connection ( ConnectionPoolServlet2 )             | 2.0 seconds    |
| Fast LAN connection to database, no connec- tion pooling ( ConnectionPoolServlet3 )                   | 2.8 seconds    |

## INDEX

A ACCEPT attribute: file upload controls, 412 FORM element, 395 ACCEPT-CHARSET attribute, FORM element, 395 Accept-Charset request header, 99 Accept-Encoding request header, 93, 99, 105 Accept-Language request header, 95, 99 Accept-Ranges response header, 146

Accept request header, 93, 98-99

Chapter

<!-- image -->

## Index

| accessCount attribute, 207, 242                                                                                                                  |
|--------------------------------------------------------------------------------------------------------------------------------------------------|
| AccessCountBean.java , 305 AccessCounts.jsp , 243 ACTION attribute, FORM element,                                                                |
| 390-91 Active Server Pages (ASP), 231 vs. JavaServer Pages (JSP), 10 addCookie method, 145, 153, 186                                             |
| addDateHeader , 144 addIntHeader , 144 addItem method, 205 addNotify method, 168 Age response header, 146 ALIGN attribute: FIELDSET element, 421 |

| jsp:plugin , 276 Allaire: ColdFusion, 10, 231 HomeSite, 234 JRun, 13 Allow response header, 146 Alphanumeric characters, 66, 391 Apache Tomcat, 12-13, 16, 18, 24, 30, 51-52, 67, 232, 249, 271, 300, 385 compiling/installing servlets, 18 standard directories, 310 starting the server, 17 Tomcat 3.0 CR/LF settings, 17 version 3.0, 41 version 3.1, 18, 309-10   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| , 256-57                                                                                                                                                                                                                                                                                                                                                              |
| ApplesAndOranges.jsp Applets: bypassing the HTTP server, 459                                                                                                                                                                                                                                                                                                          |
| jsp:fallback element, 278 jsp:param and jsp:params elements, 277-78 jsp:plugin, 275-77                                                                                                                                                                                                                                                                                |
| query viewer utilizing object serial- tunneling, 443-50                                                                                                                                                                                                                                                                                                               |
| ization/HTTP QueryCollection.java , 447-48 QueryGenerator.java , 449-50 ShowQueries.java , 444-46                                                                                                                                                                                                                                                                     |
| SearchApplet.java , 436 sending data by POST : and processing results directly,                                                                                                                                                                                                                                                                                       |
| 450-                                                                                                                                                                                                                                                                                                                                                                  |
| 53 SendPost.java , 454-58 ShadowedTextApplet.java , 281-82                                                                                                                                                                                                                                                                                                            |
| ShadowedTextApplet.jsp , 279-80                                                                                                                                                                                                                                                                                                                                       |
| using as servlet front ends, 432-59                                                                                                                                                                                                                                                                                                                                   |
| tag, 274                                                                                                                                                                                                                                                                                                                                                              |
| APPLET                                                                                                                                                                                                                                                                                                                                                                |
| ALIGN attribute, 276                                                                                                                                                                                                                                                                                                                                                  |

| ARCHIVE attribute, 276 CODE attribute, 275 CODEBASE attribute, 276 HEIGHT attribute, 275 HSPACE attribute, 276 NAME attribute, 276 TITLE attribute, 277 VSPACE attribute, 276   |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| application/msword , 149 application/octet-stream , 149 application/pdf, 149 application/postscript , 149                                                                       |
| application/vnd.ms-powerpoint , 149 , 149 , 149 ,                                                                                                                               |
| application/x-gzip application/x-java-archive application/x-java-serialized-object                                                                                              |
| 149 application/x-java-vm , 149 application/zip , 149 archive attribute, jsp:plugin, 276                                                                                        |
| attributeName , 319 , 150 , 150 , 150                                                                                                                                           |
| request header, 94, 100, 116, 154 CGI variable, 116                                                                                                                             |
| attribute, page directive,                                                                                                                                                      |
| 260                                                                                                                                                                             |
| ,                                                                                                                                                                               |
| audio/basic audio/midi audio/x-aiff                                                                                                                                             |
| 150                                                                                                                                                                             |
| audio/x-wav Authorization                                                                                                                                                       |
| 108,                                                                                                                                                                            |
| AUTH_TYPE                                                                                                                                                                       |
| autoflush                                                                                                                                                                       |
| 238,                                                                                                                                                                            |

B

| BadCodeServlet.java , 89-90, 91   |
|-----------------------------------|
| BASE64Decoder class, 108          |

Base64 encoding, 108

Basic authorization, 107-8

Basic tag, defining, 314-19

beanName attribute, 289

BEA WebLogic, 24

BGColor.jsp , 239-41

bgColor parameter, 75, 324

bodycontent element, 317, 326

bodyFont parameter, 75

bodySize parameter, 75

BodyTagSupport

BookFlights.jsp class, 310, 334, 342

, 365

buffer attribute, page directive, 244, 259-60

BufferedInputStream , 439

ButtonElement.html , 403

ByteArrayOutputStream class, 453

| C                                                                                                                                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Cache-Control request header, 100                                                                                                                                                                     |
| Cache-Control response header, 146- 47                                                                                                                                                                |
| Catalog.java , 225-27                                                                                                                                                                                 |
| CatalogPage.java , 210-13 CGI programming, and form data, 65- 66                                                                                                                                      |
| CGI variables, 114-21 defined, 115 servlet equivalent of, 116-19 servlet showing, 119-21                                                                                                              |
| Check boxes, HTML, 405, 406-7 CHECKED attribute, 407 NAME attribute, 405 ONBLUR attribute, 407 ONCLICK attribute, 407 ONFOCUS attribute, 407 VALUE attribute, 406 CHECKED attribute: check boxes, 407 |

radio buttons, 408

| ClassNotFoundException , 363 CLASSPATH environment variable, 14-15, 18, 24, 29-30 CloseableFrame.java , 60             |
|------------------------------------------------------------------------------------------------------------------------|
| code attribute, jsp:plugin , 275 codebase attribute, jsp:plugin ,                                                      |
| close method, 464                                                                                                      |
| 276 ColdFusion, 10, 231 COLS attribute, TEXTAREA element,                                                              |
| 399 Combo boxes, HTML, 409-11 MULTIPLE attribute, 409                                                                  |
| NAME attribute, 409 SELECTED attribute, 410-11 SIZE attribute, 409 VALUE attribute, 410                                |
| commit method, 464 Common Gateway Interface (CGI), 5                                                                   |
| Compressed Web pages, sending, 104-7 ComputeSpeed.jsp , 261-62, 264 config variable, 245                               |
| Connection class, 464-65 methods, 464                                                                                  |
| ConnectionPool.html , 511-12 Connection pooling, See Database                                                          |
| con- nection pooling ConnectionPoolServlet2.java , 513                                                                 |
| ConnectionPoolServlet3.java , 513-14 ConnectionPoolServlet.java , 509-11                                               |
| Connection request header, 93, 100 Connection response header, 147 ContactSection.jsp , 269 containsHeader method, 144 |
| Content-Encoding response header, 99, 105, 147                                                                         |
| Content-Language response header, 147-48                                                                               |
| CONTENT_LENGTH CGI variable,                                                                                           |

## Index

| 116                                                                                 |
|-------------------------------------------------------------------------------------|
| Content-Length request header, 94, 100                                              |
| Content-Length response header, 147- 48, 164                                        |
| Content-Location response header, 148                                               |
| Content-MD 5 response header, 148 Content-Range response header, 148                |
| CONTENT_TYPE CGI variable, 116                                                      |
| contentType attribute, page directive, 251-57                                       |
| ContentType.jsp , 252 Content-Type request header, 22, 95,                          |
| 101, 123 Content-Type response header, 148-49,                                      |
| 168, 251 Cookie request header, 93-4, 101, 186 Cookies, 178-97, 200, 353            |
| attributes, 183-85 basic cookie utilities, 190-91 benefits of, 179-81 creating, 183 |
| customized search engine interface,                                                 |
| 191-97 examples of setting/reading, 186-90 and focused advertising, 181             |
| long-lived cookies, creating, 191 placing in response headers, 186                  |
| privacy problems, 181-82 problems with, 181-82 reading from client, 186             |
| ServletUtilities.java , 191                                                         |
| servlet cookie API, 183-86                                                          |
| and session tracking,                                                               |
| SetCookies.java , 187-88                                                            |
| setting/reading, 186-90                                                             |
| ShowCookies.java , 188-89                                                           |
| 199-200                                                                             |

| with specified names, finding, 190-91 user identification during e-commerce session, 180 and username/password, 180 coreservlets.tags.ExampleTag , 312 coreservlets.LongLivedCookie , 249 coreservlets package, 292 coreservlets.ServletUtilities , 249                                                  |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| coreservlets.tags package, 312 Core Web Programming, xxii, 215 createImage method, 168 Cross-site scripting attack, 87 csajsp:condition element, 350-1 csajsp:debug element, 332-34 csajsp:else element, 350-1 csajsp:example element, 314 csajsp:filter element, 336-7 csajsp:heading element, 328, 334 |
| csajsp:prime element, 323, 334, 341 csajsp:repeat element, 340-1 csajsp:simplePrime element, 318 csajsp-taglib.tld, 312, 317-18, 321-22,                                                                                                                                                                 |
| CustomizedSearchEngines.java , 193- 94                                                                                                                                                                                                                                                                   |
| Custom JSP tag libraries, 308-51 assigning attributes to tags, 319-23 basic tag, defining, 314-19 inclusion of tag body, 323-29 optional, 329-33 JSP file, 313-14, 318-19 attribute support, 322-23 inclusion of tag body, 328-29                                                                        |
| manipulating the tag body, 336-37 multiple inclusion of tag body,                                                                                                                                                                                                                                        |
| 341                                                                                                                                                                                                                                                                                                      |
| CustomizedSearchEngines servlet,                                                                                                                                                                                                                                                                         |
| csajsp:then element, 350-1                                                                                                                                                                                                                                                                               |
| 327-28, 331, 336, 340, 349-50                                                                                                                                                                                                                                                                            |
| 191-97                                                                                                                                                                                                                                                                                                   |

nested tags, 350-51

optional inclusion of tag body, 332

manipulating the tag body, 334-38

multiple inclusion of tag body, 338-41

nested tags, 341-51

optionally including tag body, 329-33

SimplePrimeExample.jsp

, 318

SimplePrimeTag.java

, 316

tag handler class, 310-11, 315-16

attribute support, 319-20

inclusion of tag body, 324-26

manipulating the tag body, 334-35

multiple inclusion of tag body, 338-

39

nested tags, 342-48

optional inclusion of tag body, 329-

30

tag libraries:

components of, 310-14

csajsp-taglib.tld,

312, 317-18

defined, 309

ExampleTag.java

, 311

SimpleExample.jsp

, 314

tag library descriptor file, 311-12,

316-18

attribute support, 321-22

inclusion of tag body, 326-28

manipulating the tag body, 335-36

multiple inclusion of tag body, 340

nested tags, 348-50

optional inclusion of tag body, 331

## D

Database connection pooling, 501-17 allocating new connections, 503 closing connections when required, 503-4 waiting for connection to become available, 503

| case study, 508-14 ConnectionPool.html , ConnectionPool.java , 14                                                                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 511-12 504-7 ConnectionPoolServlet2.java ,                                                                                                                                                                                        |
| 513                                                                                                                                                                                                                               |
| ConnectionPoolServlet3.java , 513-                                                                                                                                                                                                |
| ConnectionPoolServlet.java , 509-11 managing available connections, 502 preallocating the connections, 501-2 sharing connection pools, 515-17 using servlet context, 515 using singleton classes, 516-17 , 473, 474-79 class, 249 |
| Date Date response header, 150 DBResults.java , 480-82                                                                                                                                                                            |
| DBResultsTableModel.java , 495                                                                                                                                                                                                    |
| DatabaseUtilities.java                                                                                                                                                                                                            |
| DebugExample.jsp , 332 Debugging Web server: EchoServer.java , 423-27                                                                                                                                                             |
| DebugTag.java , 330 Declarations, JSP, 233, 242-44 AccessCounts.jsp , 243 purpose of, 242                                                                                                                                         |
| special syntax for, 244                                                                                                                                                                                                           |
| method, 38-39 authorization, 107                                                                                                                                                                                                  |
| 75, 105, 210,                                                                                                                                                                                                                     |
| Digest Dilbert, 461                                                                                                                                                                                                               |
| Directives, 233, 247-65                                                                                                                                                                                                           |
| defined, 247 include directive, 247                                                                                                                                                                                               |
| page directive, 247, 248-64 taglib directive, 247                                                                                                                                                                                 |
| destroy                                                                                                                                                                                                                           |
| types of, 247                                                                                                                                                                                                                     |

| DOCTYPE declaration, 31-32, 316 DOCUMENT_ROOT CGI variable, 116 doEndTag method, 324, 338 doGet method, 21, 22, 37, 70, 71, 116, 154, 168, 442 doPost method, 21, 22, 37, 70, 71, 116, 154, 168, 442 DOS memory setting, 17 doStartTag method, 315, 324, 329, 338, 344 Download times, reducing by com- pressing pages, 104-7 DriverUtilities.java , 467, 470-71 Dynamic content, including, 375-77   |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| E EchoServer class, 51, 386 EchoServer.java , 423-27                                                                                                                                                                                                                                                                                                                                                  |
| email parameter, 75 EMBED element, HTML, 274 EmployeeCreation.java , 486-87 EmployeeTest2.java , 485-86                                                                                                                                                                                                                                                                                               |
| EmployeeTest.java , 483-84 EncodedPage.java , 106                                                                                                                                                                                                                                                                                                                                                     |
| encodeRedirectURL method, 206 encodeURL method, 129, 206 ENCTYPE attribute, FORM element,                                                                                                                                                                                                                                                                                                             |
| Enumeration , 70, 95 errorPage attribute, page directive, 261 ETag response header, 102, 150                                                                                                                                                                                                                                                                                                          |
| EVAL_BODY_TAG , 338                                                                                                                                                                                                                                                                                                                                                                                   |
| ExampleTag.java , 311                                                                                                                                                                                                                                                                                                                                                                                 |
| 391-93, 398                                                                                                                                                                                                                                                                                                                                                                                           |
| EVAL_PAGE , 324                                                                                                                                                                                                                                                                                                                                                                                       |
| executeQuery method, 465                                                                                                                                                                                                                                                                                                                                                                              |
| Expect request header, 101                                                                                                                                                                                                                                                                                                                                                                            |

| Expressions, JSP, 233, 234-38, 353 example, 236-37 predefined variables, 234-35 using as attribute values, 235-36 XML syntax for, 235 Expressions.jsp , 237 extends attribute, page directive, 260                           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| F                                                                                                                                                                                                                            |
| NAME attribute, 412 ONBLUR attribute, 413 ONCHANGE attribute, 413 ONFOCUS attribute, 413 SIZE attribute, 412 VALUE attribute, 412 FilteredCodeServlet.java , 90, 91 FilterExample.jsp , 337 Filtering, 87-91 code for, 88-89 |
| example, 89-91                                                                                                                                                                                                               |
| FilterTag.java , 335 findPrimeList method, 155                                                                                                                                                                               |
| findPrimeList method, 155 fontSize parameter, 324 Form data, 64-91 defined, 65                                                                                                                                               |
| extracting information from, 65-66 reading from servlets, 66-67 resume posting service, 74-86                                                                                                                                |
| role of, 65-66                                                                                                                                                                                                               |
| element, HTML,                                                                                                                                                                                                               |
| ACCEPT attribute, 395                                                                                                                                                                                                        |
| FORM                                                                                                                                                                                                                         |
| 390-95                                                                                                                                                                                                                       |

| ACTION attribute, 390-91 ENCTYPE attribute, 391-93 METHOD attribute, 391 ONRESET attribute, 395 ONSUBMIT attribute, 395 TARGET attribute, 395                                                                            |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| forward method, 357, 376 Forwarding requests, 354-58 alternative means of getting a                                                                                                                                      |
| G Gefion Software, 13 getAttribute method, 155, 203, 245, 303, 376 getAttributeName method, 320 getAuthType method, 94 getBodyContent method, 334, 344                                                                   |
| getBufferSize method, 26, 124 getColumnCount method, 466                                                                                                                                                                 |
| tination page, 357-58 supplying information to the tion pages, 355-57 using static resources, 354-55 Foxtrot, 182 FrequentFlyerInfo.java , 374 From request header, 101 FruitCreation.java , 472 FruitTest.java , 468-70 |
| RequestDispatcher , 358 from JavaServer Pages (JSP),                                                                                                                                                                     |
| interpreting relative URLs in                                                                                                                                                                                            |
| the                                                                                                                                                                                                                      |
| 380-81 des-                                                                                                                                                                                                              |
| destina-                                                                                                                                                                                                                 |
| getColumnName method, 466                                                                                                                                                                                                |
| getColumnType method, 466                                                                                                                                                                                                |
| getComment method, 183-84                                                                                                                                                                                                |
| getContentLength method,                                                                                                                                                                                                 |
| 94 getContentType method, 95,                                                                                                                                                                                            |
| getCookie method, 190                                                                                                                                                                                                    |
| 101                                                                                                                                                                                                                      |
| getCookies method, 94                                                                                                                                                                                                    |

| getCreationTime method, 204 getDateHeader method, 95 getDomain method, 184 getEnclosingWriter method, getFoo method, 290 GetForm.html , 387-88   |
|--------------------------------------------------------------------------------------------------------------------------------------------------|
| 334 getGraphics method, 169 getHeader method, 94-95 getHeaderNames method, 95 getHeaders method, 95 getId method, 204                            |
| getMessage method, 292 getMethod method, 95 getNamedDispatcher method,                                                                           |
| 358, 376 getName method, 184                                                                                                                     |
| getNumPassengers method, 288 getOutputStream method, 168, 169 getParameter method, 66-67, 69, 298 getParameterNames method, 66-68, 70            |
| getParameterValues method, 66-67, 70, 357                                                                                                        |
| getPath method, 185 getProtocol method, 95-96                                                                                                    |
| getQueryResults method, 473 getReader method, 67, 334 getRemoteUser method, 94                                                                   |
| getRequestDispatcher method,                                                                                                                     |
| 355, 375, 376                                                                                                                                    |
| method, 78                                                                                                                                       |
| getRequestProtocol                                                                                                                               |

## Index

| GET requests, 21, 65-66, 71, 77, 78, 93, 95, 244, 390, 391, 450 sending data with: and displaying resultant page, 434- 35 and processing results directly, 438- 43 getRequestURI method, 95 getSecure method, 185   |                           |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
| getServletContext().getRealPath , 115-17 getServletContext().getServerInfo, 119                                                                                                                                     |                           |
| getServletContext method, 155, 303                                                                                                                                                                                  |                           |
| getServletInfo method, 260 getSession method, 202                                                                                                                                                                   |                           |
| getString method, 334                                                                                                                                                                                               |                           |
| getValue method, 185, 186, 202, 203, 303 getValueNames method, 204 getVersion method, 185                                                                                                                           |                           |
| getWriter method, 168 GifEncoder class, 169 GIF images, using servlets to generate, 168-77 Guthrie, John, xix gzip compression, 104-7                                                                               |                           |
| GZIPOutputStream , 105                                                                                                                                                                                              |                           |
| H hasMoreElements method, 70                                                                                                                                                                                        |                           |
| HEAD , 32, 118, 123 HeadingExample.jsp , 328                                                                                                                                                                        |                           |
| headingFont parameter, 75 headingSize parameter, 75                                                                                                                                                                 |                           |
| HeadingTag.java , 325-26                                                                                                                                                                                            |                           |
| height attribute , jsp:plugin ,                                                                                                                                                                                     |                           |
| HelloWorld.java , 23                                                                                                                                                                                                |                           |
| 276                                                                                                                                                                                                                 |                           |
|                                                                                                                                                                                                                     | HelloWWW 2 .java , 29, 33 |

| HelloWWW 3 .java , 33-34 HelloWWW.java , 27                                                                                                                                                                                                                         |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Hidden fields, HTML, 419 and session tracking, 201                                                                                                                                                                                                                  |
| Host request header, 93, 101 HotelInfo.java , 375                                                                                                                                                                                                                   |
| hspace attribute , jsp:plugin , 276 HTML, 6, 9, 274-75, 336, 353, 354-55,                                                                                                                                                                                           |
| 377 HTML forms, 384-431 check boxes, 405, 406-7 combo boxes, 409-11 and data transmission, 385-89 debugging Web server, 423-31 EchoServer.java , 423-27 NetworkServer.java , 428-31 SocketUtil.java , 431 ThreadedEchoServer.java , 427-28 FIELDSET element, 420-21 |
| ACCEPT attribute, 395 ACCEPT-CHARSET attribute, 395 ACTION attribute, 390-91 ENCTYPE attribute, 391-93 METHOD attribute, 391                                                                                                                                        |
| ONRESET attribute, 395 ONSUBMIT attribute, 395 TARGET attribute, 395 GetForm.html, 387-88 grouping controls, 420-21 hidden fields, 419 MultipartForm.html , 393-94                                                                                                  |
| PostForm.html , 388-89 push buttons, 400-408                                                                                                                                                                                                                        |
| JavaScript buttons, 405                                                                                                                                                                                                                                             |

| radio buttons, 407-8 server-side image                                                                                                                                                                                                                                                                                          |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| maps, 414-18 alternative, 417 IMAGE element, 414-16 ISMAP element, 417-18 tab order, controlling, 422-23 text controls, 395-400 password fields, 397-98 text areas, 398-400 textfields, 395-97 HTTP, 93 request headers, 92-113 response headers, 142-77 as stateless protocol, 199 status codes, 122-41, 353 tunneling, 438-43 |
| HttpClient.java , 55-57 httpd, 17 HTTP request headers, 92-113                                                                                                                                                                                                                                                                  |
| Accept-Charset header, 99 Accept-Encoding header, 93, 99, 105 Accept header, 98-99 Accept-Language header, 95, 99                                                                                                                                                                                                               |
| Authorization header, 94, 100, 108, 116                                                                                                                                                                                                                                                                                         |
| Cache-Control header, 100 compressed Web pages, sending, 104-                                                                                                                                                                                                                                                                   |
| Connection header, 93, 100 Content-Length header, 94, 100 Content-Type header, 95, 101                                                                                                                                                                                                                                          |
| Cookie header, 93, 101 Expect header, 101 From header, 101 Host header, 93, 101                                                                                                                                                                                                                                                 |
| 7                                                                                                                                                                                                                                                                                                                               |
| If-Match header, 102                                                                                                                                                                                                                                                                                                            |
| If-Modified-Since header,                                                                                                                                                                                                                                                                                                       |
| 45,                                                                                                                                                                                                                                                                                                                             |
| 102                                                                                                                                                                                                                                                                                                                             |

| If-Range header, 102 If-Unmodified-Since header, 102 keep-alive connections, 100 Pragma header, 102   |     |
|-------------------------------------------------------------------------------------------------------|-----|
| printing, 96-98 Proxy-Authorization header, 103 Range header, 103                                     |     |
| reading, 76-93                                                                                        |     |
| Referer header, 95, 103 Upgrade header, 103 User-Agent header, 93, 103-4 Via header, 104              |     |
| Web pages, restricting access to, 89- 93 response headers, 142-77 HTTP 1.1, 145-54                    |     |
| HTTP                                                                                                  |     |
| Accept-Ranges response header,                                                                        |     |
| 146 Age response header, 146                                                                          |     |
| Allow response header, 146 Cache-Control response header, 146-47                                      |     |
| Connection response header, 147 Content-Encoding response                                             |     |
| header,                                                                                               |     |
| 147                                                                                                   |     |
| Content-Language response 147-48                                                                      |     |
| header, Content-Length response header,                                                               |     |
| 148 Content-Location response header,                                                                 |     |
| 148 Content-MD 5 response header, 148                                                                 |     |
| Content-Type response header,                                                                         |     |
| Date response header, 150                                                                             |     |
| ETag response header,                                                                                 |     |
| 150                                                                                                   |     |
| 148-49                                                                                                |     |
| Content-Range response                                                                                |     |
| header,                                                                                               |     |
|                                                                                                       | 148 |

## Index

| Expires response header, 150-51 Last-Modified response header,                                                                         |
|----------------------------------------------------------------------------------------------------------------------------------------|
| 151                                                                                                                                    |
| Location response header, 151 persistent servlet state and auto- reloading pages, 154-63 Pragma response header, 151                   |
| Via response header, 153 Warning response header, 153 WWW-Authenticate response header, 154 persistent HTTP connections, using, 163-67 |
| Refresh response header, 152, 155 Retry-After response header, 152 Server response header, 152                                         |
| Set-Cookie response header, 153                                                                                                        |
| Trailer response header, 153 Transfer-Encoding response                                                                                |
| header, 153 Upgrade response header, 153 Vary response header, 153                                                                     |
| HttpServlet, 21-22, 51 HttpServletRequest, 22, 66-68, 70, 94, 101, 129, 186, 244, 354-56, 357, 376, 442 22, 26, 109,                   |
| HttpServletResponse, 134, 144, 148, 151, 168, 169,                                                                                     |
| 354, 355, 375, 442                                                                                                                     |
| 124-25, 186, , 235, 245, 303                                                                                                           |
| HttpSession HttpSessionBindingListener face, 206                                                                                       |
| HTTP status codes, 122-41, 353                                                                                                         |
| HTTP 1.1, 126-35                                                                                                                       |
| categories of, 126                                                                                                                     |
| status 100 (Continue), 127                                                                                                             |
| inter-                                                                                                                                 |

| status 200 (OK), 127                                                        |
|-----------------------------------------------------------------------------|
| status 201 (Created), 127                                                   |
| status 202 (Accepted), 127                                                  |
| status 203 (Non-authoritative Infor-                                        |
| mation), 127                                                                |
| status 204 (No Content), 127-28                                             |
| status 205 (Reset Content), 128                                             |
| status 206 (Partial Content), 128                                           |
| status 300 (Multiple Choices), 128                                          |
| status 301 (Moved Permanently),                                             |
| 128-29 status 302 (Found), 129-30                                           |
| status 303 (See Other), 130                                                 |
| status 304 (Not Modified), 130                                              |
| status 305 (Use Proxy), 130                                                 |
| status 307 (Temporary Redirect),                                            |
| 131                                                                         |
| status 401 (Unauthorized), 131 status 403 (Forbidden), 131                  |
| status 404 (Not Found), 131-32                                              |
| status 405 (Method Not                                                      |
| Allowed),                                                                   |
| 132 status 406 (Not Acceptable), 132                                        |
| status 407 (Proxy Authentication                                            |
| Required), 132 status 408 (Request Timeout), 133 status 409 (Conflict), 133 |
| status 410 (Gone), 133                                                      |
| status 411 (Length Required), 133 status 412 (Precondition Failed),         |
| 133 status 413 (Request Entity Too 133                                      |
| status 414 (Request URI Too                                                 |
| Large),                                                                     |
| Long), 133                                                                  |
| status 415 (Unsupported Media 134                                           |
| Type),                                                                      |
| status 416 (Requested Range                                                 |
| Not                                                                         |

| Satisfiable), 134 status 417 (Expectation Failed), 134 status 500 (Internal Server Error), 134 status 501 (Not Implemented), 134 status 502 (Bad Gateway), 135 status 503 (Service Unavailable), 135 status 504 (Gateway Timeout), 135   |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| HyperText Transfer Protocol (HTTP), 93 I                                                                                                                                                                                                 |
| status 505 (HTTP Version Not Sup- ported), 135 specifying, 124-25                                                                                                                                                                        |
| HTTP tunneling, 438-43 defined, 439 reading binary or ASCII data, 439-40 reading serialized data structures, 441-43                                                                                                                      |
| client side, 441-42 server side, 442-43                                                                                                                                                                                                  |
| HTTP_XXX_YYY CGI variables, 117, 119                                                                                                                                                                                                     |
| iepluginurl attribute , jsp:plugin , 277 IfConditionTag , 344 IfConditionTag.java , 346 , 348 , 350-51 request header, 102, 150\                                                                                                         |
| If-Modified-Since request header, 45, 102, 151                                                                                                                                                                                           |
| request header, 102 request header, 102 , 344                                                                                                                                                                                            |
| , 345                                                                                                                                                                                                                                    |
| IfThenTag.java , 347                                                                                                                                                                                                                     |
| If-Range IfTag IfTag.java                                                                                                                                                                                                                |
| If-None-Match                                                                                                                                                                                                                            |
| IfExample.jsp If-Match                                                                                                                                                                                                                   |
| IfElseTag.java                                                                                                                                                                                                                           |

<!-- image -->

| If-Unmodified-Since request header, 102                                                                                                            |
|----------------------------------------------------------------------------------------------------------------------------------------------------|
| IMAGE element, HTML, 414-16 image/gif , 26, 149-50                                                                                                 |
| image/jpeg , 150 ImageMap.html , 415 image/png, 99, 150                                                                                            |
| ImageRetriever.java , 164, 166-67 image/tiff , 150 image/x-xbitmap , 150 Implicit objects, 244-45                                                  |
| import attribute, page directive, 248-51 ImportAttribute.jsp , 250-51                                                                              |
| include directive, 247, 270, 375, 377 include method, RequestDispatcher class, 271, 376                                                            |
| info, tag element, 317 info attribute, page directive, 260 Initialization parameters, servlets, 39- 44                                             |
| init method, 34-36 install_dir/classes , 24, 291                                                                                                   |
| install_dir/classes/coreservlets /, 359 install_dir/classes/lima/Ford- hook.class , 291 install_dir/lib , 25, 291 install_dir/server.xml , 16, 232 |
| install_dir/servlets , 24, 291 install_dir/servlets/coreservlets , 28,                                                                             |
| install_dir/startup.bat, 17 install_dir/tmpdir/default/pagecom- pile/jsp/_JSP , 232 install_dir/webapps/examples/WEB-                              |
| INF/jsp , 311 install_dir/webapps/ROOTWEB- INF/classes , 312 install_dir/webapps/ROOTWEB-                                                          |
| INF/classes/coreservlets/tags , 312                                                                                                                |
| 359                                                                                                                                                |

| install_dir/webpages/forms/ ThreeParamsForm.html , 67 install_dir/webpages/path/file.html , 25, 385                                                                                     |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| install_dir/webpages/WEB-INF , 41 install_dir/webpages/WEB-INF/ classes , 24, 291 install_dir/webpages/WEB-INF/ classes/coreservlets , 28 install_dir/webpages/WEB-INF/serv- lets , 291 |
| install_dir/webpages/WEB-INF/serv- lets/coreservlets, 28                                                                                                                                |
| install_dir/webpages/WEB-INF/serv- lets/lima/Fordhook.class, 291 install_dir/webserver.xml, 232 install_dir/work/port-number, 232                                                       |
| 289 Integer.parseInt , 76, 155 Interactive query viewer, 487-97 Interruptible.java , 63 invalidate method, 205-6 IOException , 354, 439 isClosed method, 464                            |
| isCommitted method, 26 isErrorPage attribute, page directive, 261-64 isLeased method, 288 ISMAP element, 417-18 isNew method, 204                                                       |
| isReadOnly method, 466 isSearchable method, 466 isThreadSafe attribute, page 258-59                                                                                                     |
| directive,                                                                                                                                                                              |
| isWorkDirPersistent attribute, 232 Item1.html , 272                                                                                                                                     |
| ISO-8859-1, 99                                                                                                                                                                          |
| isNullable method, 466                                                                                                                                                                  |

| Item2.html , 272        |
|-------------------------|
| Item3.html , 273        |
| Item4.html , 273        |
| Item.java , 222-23      |
| ItemOrder.java , 224-25 |

| J                                                                                                                                                                                                                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| JAR file, 24-25, 30, 248 JavaBeans, 286-307 AccessCountBean.java , 305 associating all properties with input parameters, 301-2 associating individual properties with input parameters, 298-99 automatic type conversion, 300 basic bean use, 288-91 bean classes, installing, 291 |
| jsp:useBean scope attribute, 302-7 application value, 303 page value, 303 request value, 304 session value, 303                                                                                                                                                                    |
| conditional bean creation, 304-7 defined, 287                                                                                                                                                                                                                                      |
| bean properties: accessing, 290 setting, 290-91, 294-302 beans, 287-88                                                                                                                                                                                                             |
| SaleEntry1.jsp , 296-97                                                                                                                                                                                                                                                            |
| SaleEntry2.jsp , 299                                                                                                                                                                                                                                                               |
| SaleEntry.java , 295-96 SharedCounteds1.jsp ,                                                                                                                                                                                                                                      |
| 306 sharing beans, 302-7                                                                                                                                                                                                                                                           |
| StringBean.java , 292 StringBean.jsp , 293-94                                                                                                                                                                                                                                      |
| , instantiate                                                                                                                                                                                                                                                                      |
| java.beans.Bean method,                                                                                                                                                                                                                                                            |
| 289                                                                                                                                                                                                                                                                                |
| javac , See Java compiler                                                                                                                                                                                                                                                          |
| (javac)                                                                                                                                                                                                                                                                            |
| SaleEntry3.jsp ,                                                                                                                                                                                                                                                                   |
| 301-2                                                                                                                                                                                                                                                                              |

| Java compiler ( javac ), identifying classes to, 14-15 Java Development Kit (JDK),                                                                                              |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| version, 30                                                                                                                                                                     |
| JAVA_HOME environment variable, 16                                                                                                                                              |
| java.io package, 22 Java Properties file, 109 Java Runtime Environment (JRE), 277 JavaScript, and User-Agent request header, 93, 103-4                                          |
| JavaScript buttons, 405 JavaScript vs. JavaServer Pages (JSP),                                                                                                                  |
| 11 JavaServer Pages (JSP), 5, 9-19, 228-                                                                                                                                        |
| 381                                                                                                                                                                             |
| Active Server Pages (ASP) vs., 10 advantages of, 10-12 API documentation, 14 applets: examples, 279-85                                                                          |
| including in JSP documents, 274-85                                                                                                                                              |
| jsp:fallback element, 278 jsp:param and jsp:params ele-                                                                                                                         |
| ments, 277-78 jsp:plugin , 275-77                                                                                                                                               |
| ShadowedTextApplet.java , ShadowedTextApplet.jsp , 279-80 compiling/installing servlets, 18-19 configuring the server, 16-17 DOS memory setting, 17 JAVA_HOME environment vari- |
| 281-82                                                                                                                                                                          |
| port number, 16 Tomcat 3.0 CR/LF settings, 17                                                                                                                                   |
| custom JSP tag libraries, 308-51 files:                                                                                                                                         |
| including at page translation                                                                                                                                                   |
| 16                                                                                                                                                                              |
| able,                                                                                                                                                                           |
| 268-70                                                                                                                                                                          |
| time,                                                                                                                                                                           |

| including at request time, 270-73 including in JSP documents, 266-73 forwarding requests from, 380-81 installation/setup, 12-19 integrating servlets and, 352-81 and JavaBeans, 286-307 JavaScript vs., 11 JSP directives, 247-65 defined, 247   | including at request time, 270-73 including in JSP documents, 266-73 forwarding requests from, 380-81 installation/setup, 12-19 integrating servlets and, 352-81 and JavaBeans, 286-307 JavaScript vs., 11 JSP directives, 247-65 defined, 247   | including at request time, 270-73 including in JSP documents, 266-73 forwarding requests from, 380-81 installation/setup, 12-19 integrating servlets and, 352-81 and JavaBeans, 286-307 JavaScript vs., 11 JSP directives, 247-65 defined, 247   | including at request time, 270-73 including in JSP documents, 266-73 forwarding requests from, 380-81 installation/setup, 12-19 integrating servlets and, 352-81 and JavaBeans, 286-307 JavaScript vs., 11 JSP directives, 247-65 defined, 247   | including at request time, 270-73 including in JSP documents, 266-73 forwarding requests from, 380-81 installation/setup, 12-19 integrating servlets and, 352-81 and JavaBeans, 286-307 JavaScript vs., 11 JSP directives, 247-65 defined, 247   | including at request time, 270-73 including in JSP documents, 266-73 forwarding requests from, 380-81 installation/setup, 12-19 integrating servlets and, 352-81 and JavaBeans, 286-307 JavaScript vs., 11 JSP directives, 247-65 defined, 247   | including at request time, 270-73 including in JSP documents, 266-73 forwarding requests from, 380-81 installation/setup, 12-19 integrating servlets and, 352-81 and JavaBeans, 286-307 JavaScript vs., 11 JSP directives, 247-65 defined, 247   | including at request time, 270-73 including in JSP documents, 266-73 forwarding requests from, 380-81 installation/setup, 12-19 integrating servlets and, 352-81 and JavaBeans, 286-307 JavaScript vs., 11 JSP directives, 247-65 defined, 247   |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| software, 12-14 packaging the classes, 15 PHP vs., 10-11 predefined variables (implicit                                                                                                                                                          | software, 12-14 packaging the classes, 15 PHP vs., 10-11 predefined variables (implicit                                                                                                                                                          | software, 12-14 packaging the classes, 15 PHP vs., 10-11 predefined variables (implicit                                                                                                                                                          | software, 12-14 packaging the classes, 15 PHP vs., 10-11 predefined variables (implicit                                                                                                                                                          | software, 12-14 packaging the classes, 15 PHP vs., 10-11 predefined variables (implicit                                                                                                                                                          | software, 12-14 packaging the classes, 15 PHP vs., 10-11 predefined variables (implicit                                                                                                                                                          | software, 12-14 packaging the classes, 15 PHP vs., 10-11 predefined variables (implicit                                                                                                                                                          | software, 12-14 packaging the classes, 15 PHP vs., 10-11 predefined variables (implicit                                                                                                                                                          |
| 244-45 servlets vs., 11 of, 231-32 elements, 230-45 declarations, 233, 242-44                                                                                                                                                                    | 244-45 servlets vs., 11 of, 231-32 elements, 230-45 declarations, 233, 242-44                                                                                                                                                                    | 244-45 servlets vs., 11 of, 231-32 elements, 230-45 declarations, 233, 242-44                                                                                                                                                                    | 244-45 servlets vs., 11 of, 231-32 elements, 230-45 declarations, 233, 242-44                                                                                                                                                                    | 244-45 servlets vs., 11 of, 231-32 elements, 230-45 declarations, 233, 242-44                                                                                                                                                                    | 244-45 servlets vs., 11 of, 231-32 elements, 230-45 declarations, 233, 242-44                                                                                                                                                                    | 244-45 servlets vs., 11 of, 231-32 elements, 230-45 declarations, 233, 242-44                                                                                                                                                                    | 244-45 servlets vs., 11 of, 231-32 elements, 230-45 declarations, 233, 242-44                                                                                                                                                                    |
| pure purpose scripting                                                                                                                                                                                                                           | pure purpose scripting                                                                                                                                                                                                                           | pure purpose scripting                                                                                                                                                                                                                           | pure purpose scripting                                                                                                                                                                                                                           | pure purpose scripting                                                                                                                                                                                                                           | pure purpose scripting                                                                                                                                                                                                                           | pure purpose scripting                                                                                                                                                                                                                           | pure purpose scripting                                                                                                                                                                                                                           |
| include directive, 247                                                                                                                                                                                                                           | include directive, 247                                                                                                                                                                                                                           | include directive, 247                                                                                                                                                                                                                           | include directive, 247                                                                                                                                                                                                                           | include directive, 247                                                                                                                                                                                                                           | include directive, 247                                                                                                                                                                                                                           | include directive, 247                                                                                                                                                                                                                           | include directive, 247                                                                                                                                                                                                                           |
| page directive, 247, 248-64 taglib directive, 247                                                                                                                                                                                                | page directive, 247, 248-64 taglib directive, 247                                                                                                                                                                                                | page directive, 247, 248-64 taglib directive, 247                                                                                                                                                                                                | page directive, 247, 248-64 taglib directive, 247                                                                                                                                                                                                | page directive, 247, 248-64 taglib directive, 247                                                                                                                                                                                                | page directive, 247, 248-64 taglib directive, 247                                                                                                                                                                                                | page directive, 247, 248-64 taglib directive, 247                                                                                                                                                                                                | page directive, 247, 248-64 taglib directive, 247                                                                                                                                                                                                |
| types of, 247 XML syntax for, 265                                                                                                                                                                                                                | types of, 247 XML syntax for, 265                                                                                                                                                                                                                | types of, 247 XML syntax for, 265                                                                                                                                                                                                                | types of, 247 XML syntax for, 265                                                                                                                                                                                                                | types of, 247 XML syntax for, 265                                                                                                                                                                                                                | types of, 247 XML syntax for, 265                                                                                                                                                                                                                | types of, 247 XML syntax for, 265                                                                                                                                                                                                                | types of, 247 XML syntax for, 265                                                                                                                                                                                                                |
| obtaining servlet and JSP                                                                                                                                                                                                                        | obtaining servlet and JSP                                                                                                                                                                                                                        | obtaining servlet and JSP                                                                                                                                                                                                                        | obtaining servlet and JSP                                                                                                                                                                                                                        | obtaining servlet and JSP                                                                                                                                                                                                                        | obtaining servlet and JSP                                                                                                                                                                                                                        | obtaining servlet and JSP                                                                                                                                                                                                                        | obtaining servlet and JSP                                                                                                                                                                                                                        |
| objects),                                                                                                                                                                                                                                        | objects),                                                                                                                                                                                                                                        | objects),                                                                                                                                                                                                                                        | objects),                                                                                                                                                                                                                                        | objects),                                                                                                                                                                                                                                        | objects),                                                                                                                                                                                                                                        | objects),                                                                                                                                                                                                                                        | objects),                                                                                                                                                                                                                                        |
| expressions, 233, 234-38                                                                                                                                                                                                                         | expressions, 233, 234-38                                                                                                                                                                                                                         | expressions, 233, 234-38                                                                                                                                                                                                                         | expressions, 233, 234-38                                                                                                                                                                                                                         | expressions, 233, 234-38                                                                                                                                                                                                                         | expressions, 233, 234-38                                                                                                                                                                                                                         | expressions, 233, 234-38                                                                                                                                                                                                                         | expressions, 233, 234-38                                                                                                                                                                                                                         |
| scriptlets, 233, 238-42                                                                                                                                                                                                                          | scriptlets, 233, 238-42                                                                                                                                                                                                                          | scriptlets, 233, 238-42                                                                                                                                                                                                                          | scriptlets, 233, 238-42                                                                                                                                                                                                                          | scriptlets, 233, 238-42                                                                                                                                                                                                                          | scriptlets, 233, 238-42                                                                                                                                                                                                                          | scriptlets, 233, 238-42                                                                                                                                                                                                                          | scriptlets, 233, 238-42                                                                                                                                                                                                                          |
| template text, 234 Server-Side Includes (SSI) vs., 11 starting the server, 17 static HTML vs., 12                                                                                                                                                | template text, 234 Server-Side Includes (SSI) vs., 11 starting the server, 17 static HTML vs., 12                                                                                                                                                | template text, 234 Server-Side Includes (SSI) vs., 11 starting the server, 17 static HTML vs., 12                                                                                                                                                | template text, 234 Server-Side Includes (SSI) vs., 11 starting the server, 17 static HTML vs., 12                                                                                                                                                | template text, 234 Server-Side Includes (SSI) vs., 11 starting the server, 17 static HTML vs., 12                                                                                                                                                | template text, 234 Server-Side Includes (SSI) vs., 11 starting the server, 17 static HTML vs., 12                                                                                                                                                | template text, 234 Server-Side Includes (SSI) vs., 11 starting the server, 17 static HTML vs., 12                                                                                                                                                | template text, 234 Server-Side Includes (SSI) vs., 11 starting the server, 17 static HTML vs., 12                                                                                                                                                |
| See also JSP                                                                                                                                                                                                                                     | See also JSP                                                                                                                                                                                                                                     | See also JSP                                                                                                                                                                                                                                     | See also JSP                                                                                                                                                                                                                                     | See also JSP                                                                                                                                                                                                                                     | See also JSP                                                                                                                                                                                                                                     | See also JSP                                                                                                                                                                                                                                     | See also JSP                                                                                                                                                                                                                                     |
| Custom JSP tag libraries; directives Web Development Kit                                                                                                                                                                                         | Custom JSP tag libraries; directives Web Development Kit                                                                                                                                                                                         | Custom JSP tag libraries; directives Web Development Kit                                                                                                                                                                                         | Custom JSP tag libraries; directives Web Development Kit                                                                                                                                                                                         | Custom JSP tag libraries; directives Web Development Kit                                                                                                                                                                                         | Custom JSP tag libraries; directives Web Development Kit                                                                                                                                                                                         | Custom JSP tag libraries; directives Web Development Kit                                                                                                                                                                                         | Custom JSP tag libraries; directives Web Development Kit                                                                                                                                                                                         |
| JavaServer (JSWDK), 13                                                                                                                                                                                                                           | JavaServer (JSWDK), 13                                                                                                                                                                                                                           | JavaServer (JSWDK), 13                                                                                                                                                                                                                           | JavaServer (JSWDK), 13                                                                                                                                                                                                                           | JavaServer (JSWDK), 13                                                                                                                                                                                                                           | JavaServer (JSWDK), 13                                                                                                                                                                                                                           | JavaServer (JSWDK), 13                                                                                                                                                                                                                           | JavaServer (JSWDK), 13                                                                                                                                                                                                                           |
| Java servlets, See Servlets                                                                                                                                                                                                                      | Java servlets, See Servlets                                                                                                                                                                                                                      | Java servlets, See Servlets                                                                                                                                                                                                                      | Java servlets, See Servlets                                                                                                                                                                                                                      | Java servlets, See Servlets                                                                                                                                                                                                                      | Java servlets, See Servlets                                                                                                                                                                                                                      | Java servlets, See Servlets                                                                                                                                                                                                                      | Java servlets, See Servlets                                                                                                                                                                                                                      |
| java.util.Date class, 249 java.util.zip package, 105                                                                                                                                                                                             | java.util.Date class, 249 java.util.zip package, 105                                                                                                                                                                                             | java.util.Date class, 249 java.util.zip package, 105                                                                                                                                                                                             | java.util.Date class, 249 java.util.zip package, 105                                                                                                                                                                                             | java.util.Date class, 249 java.util.zip package, 105                                                                                                                                                                                             | java.util.Date class, 249 java.util.zip package, 105                                                                                                                                                                                             | java.util.Date class, 249 java.util.zip package, 105                                                                                                                                                                                             | java.util.Date class, 249 java.util.zip package, 105                                                                                                                                                                                             |
| Java Web Server (Sun), 13-14,                                                                                                                                                                                                                    | Java Web Server (Sun), 13-14,                                                                                                                                                                                                                    | Java Web Server (Sun), 13-14,                                                                                                                                                                                                                    | Java Web Server (Sun), 13-14,                                                                                                                                                                                                                    | Java Web Server (Sun), 13-14,                                                                                                                                                                                                                    | Java Web Server (Sun), 13-14,                                                                                                                                                                                                                    | Java Web Server (Sun), 13-14,                                                                                                                                                                                                                    | Java Web Server (Sun), 13-14,                                                                                                                                                                                                                    |
| 51, 105, 164, 249, 278, 300, 301                                                                                                                                                                                                                 | 51, 105, 164, 249, 278, 300, 301                                                                                                                                                                                                                 | 51, 105, 164, 249, 278, 300, 301                                                                                                                                                                                                                 | 51, 105, 164, 249, 278, 300, 301                                                                                                                                                                                                                 | 51, 105, 164, 249, 278, 300, 301                                                                                                                                                                                                                 | 51, 105, 164, 249, 278, 300, 301                                                                                                                                                                                                                 | 51, 105, 164, 249, 278, 300, 301                                                                                                                                                                                                                 | 51, 105, 164, 249, 278, 300, 301                                                                                                                                                                                                                 |
| 24,                                                                                                                                                                                                                                              | 24,                                                                                                                                                                                                                                              | 24,                                                                                                                                                                                                                                              | 24,                                                                                                                                                                                                                                              | 24,                                                                                                                                                                                                                                              | 24,                                                                                                                                                                                                                                              | 24,                                                                                                                                                                                                                                              | 24,                                                                                                                                                                                                                                              |

| compiling/installing servlets, 19 javax.servlet package, 22 javax.servlet.http package, 22                                                                                                                                                                                                                                |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| javax.servlet.jsp.tagext package, 315 javax.servlet.jsp . tagext.Tag interface,                                                                                                                                                                                                                                           |
| 310 JDBC, 254, 460-501 basic JDBC example, 467-72                                                                                                                                                                                                                                                                         |
| connection:                                                                                                                                                                                                                                                                                                               |
| closing, 466 establishing, 464 connection URL, defining, 463-64 creating a statement, 465                                                                                                                                                                                                                                 |
| DatabaseUtilities.java , 473, 474-79 DBResults.java , 480-82 defined, 461                                                                                                                                                                                                                                                 |
| DriverUtilities.java , 470-71 EmployeeCreation.java , 486-87 EmployeeTest2.java , 485-86 EmployeeTest.java , 483-84                                                                                                                                                                                                       |
| executing a query, 465 FruitCreation.java , 472                                                                                                                                                                                                                                                                           |
| FruitTest.java , 468-70 interactive query viewer, 487-97 code, 489-96 DBResultsTableModel.java , QueryViewer.java , 491-94 WindowUtilities.java , 496-97 loading the driver, 462-63 prepared statements (precompiled 497-501 processing results, 465-66 utilities, 473-82 attribute, jsp:plugin , 277 (Allaire), 13 , 235 |
| 495 , 278                                                                                                                                                                                                                                                                                                                 |
| jreversion JRun jsp:expression jsp:fallback jsp:forward , 236, 381                                                                                                                                                                                                                                                        |
| jsp:getProperty , 290, 303, 359                                                                                                                                                                                                                                                                                           |
| queries),                                                                                                                                                                                                                                                                                                                 |

| jsp:include , 236, 267, 270, 377 jsp:param and jsp:params elements,                                                                                                                                                                                                                                                                                                                                |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 277-78 jsp:plugin , 267, 275-77 align attribute, 276 archive attribute, 276 code attribute, 275 codebase attribute, 276 height attribute, 276 hspace attribute, 276 iepluginurl attribute, 277 jreversion attribute, 277 name attribute, 276 nspluginurl attribute, 277 title attribute, 277 type attribute, 275 vspace attribute, 276 width attribute, 275 jsp:setProperty , 235-36, 290-91, 294, |
| 356 JSP declarations, See Declarations JSP directives, 247-65 defined, 247                                                                                                                                                                                                                                                                                                                         |
| include directive, 247 page directive, 247, 248-64 autoflush attribute, 260 buffer attribute, 259-60 contentType attribute, 251-57 errorPage attribute, 261 extends attribute, 260 import attribute, 248-51 info attribute, 260 isErrorPage attribute, 261-64 isThreadSafe attribute, 258-59 language attribute, 264 session attribute, 259 taglib directive, 247                                  |

| types of, 247 XML syntax for, 265 JSP expressions, See Expressions JSP file, 313-14, 318-19 attribute support, 322-23 inclusion of tag body, 328-29 manipulating the tag body, 336-37 multiple inclusion of tag body, 341 nested tags, 350-51 optional inclusion of tag body, 332 scriptlets, See Scriptlets method, 238, 241, 242,   |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| JSP _jspService 302 JspWriter , 235, 238, 244, 259, 315,                                                                                                                                                                                                                                                                              |
| K Karlson, Amy, xix keep-alive connections, 100                                                                                                                                                                                                                                                                                       |
| 334 JSWDK (Sun), 16-17, 24, 30, 51-52, 67, 109, 232, 248, 249, 271, 278, 301, 385                                                                                                                                                                                                                                                     |
| 300, compiling/installing servlets, 18                                                                                                                                                                                                                                                                                                |
| KidsBooksPage.java , 213, 214                                                                                                                                                                                                                                                                                                         |
| L LabeledTextField.java , 61-62, 453 LabelPanel.java , 283                                                                                                                                                                                                                                                                            |
| attribute, page directive, 264 parameter, 75-76 response header, 45,                                                                                                                                                                                                                                                                  |
| language (LWS) (Gefion Soft-                                                                                                                                                                                                                                                                                                          |
| languages 13                                                                                                                                                                                                                                                                                                                          |
| Location response header, 129,                                                                                                                                                                                                                                                                                                        |
| ware), 143,                                                                                                                                                                                                                                                                                                                           |
| 145, 148, 151                                                                                                                                                                                                                                                                                                                         |
| LongLivedCookie.java , 192                                                                                                                                                                                                                                                                                                            |
| cookies, creating, 191                                                                                                                                                                                                                                                                                                                |
| Long-lived                                                                                                                                                                                                                                                                                                                            |
| LotteryNumbers.java , 46-47                                                                                                                                                                                                                                                                                                           |
| Last-Modified 151 LiteWebServer                                                                                                                                                                                                                                                                                                       |

| accessing with an unconditional GET                      |
|----------------------------------------------------------|
| request, 48 accessing with a conditional GET request, 49 |

## M

| max-age=xxx value, Cache-Control response header, 147 MAXLENGTH attribute: file upload controls, 412 password fields, 398 textfields, 397   |
|---------------------------------------------------------------------------------------------------------------------------------------------|
| MessageImage.java, 171-72 METHOD attribute, 21 , 391 Microsoft Excel, 254 generating Excel spreadsheets, 254-57                             |
| 251-52, 255, 395, 442 Model 2 approach to JSP, 354 MultipartForm.html , 393-94                                                              |
| MULTIPLE attribute, combo boxes, 409                                                                                                        |
| Multisystem search engine front end, 435-38                                                                                                 |
| must-revalidate value, Cache-Con- trol response header, 147 my-styles.css , 357                                                             |

## N

| name element, 316, 321    |
|---------------------------|
| NAME attribute :          |
| check boxes, 405          |
| combo boxes, 409          |
| file upload controls, 412 |
| IMAGE element, 415        |
| jsp:plugin , 276          |
| password fields, 398      |
| radio buttons, 408        |

| reset buttons, 404 submit buttons, 401-2 TEXTAREA element,   |     |          |     |
|--------------------------------------------------------------|-----|----------|-----|
| 399                                                          |     |          |     |
| textfields, 396                                              |     |          |     |
| name parameter, 75 Nested tags, 341-51                       |     |          |     |
| template for, 343                                            |     |          |     |
| NetworkClient.java , 57-58                                   |     |          |     |
| NetworkServer.java , 428-31                                  |     |          |     |
| New Atlanta ServletExec, 13                                  |     |          |     |
| nextElement , 70                                             |     |          |     |
| Nobel prize, literature, 215, 225                            |     |          |     |
| no-cache value, Cache-Control                                |     |          |     |
| response header, 146                                         |     |          |     |
| no-store value, Cache-Control header, 147                    |     |          |     |
| response nspluginurl attribute,                              |     |          |     |
| jsp:plugin                                                   |     |          |     |
| , numDigits, 155                                             |     |          |     |
| numPrimes, 155                                               |     |          |     |
| ObjectOutputStream , 442-43 OBJECT tag, HTML, 274            |     |          |     |
| ONDBLDOWN attribute, 397                                     |     |          |     |
| ONBLUR attribute:                                            |     |          |     |
| check boxes, 407                                             |     |          |     |
| file upload controls, 413                                    |     |          |     |
| JavaScript buttons, 405                                      |     |          |     |
| password fields, 398                                         |     |          |     |
| radio buttons, 408                                           |     |          |     |
| reset buttons, 404                                           |     |          |     |
| submit buttons,                                              |     |          |     |
| text areas, 399-400                                          |     |          |     |
| textfields, 397                                              |     |          |     |
| file upload controls,                                        |     |          |     |
| password fields, 398                                         |     |          |     |
| TEXTAREA                                                     |     |          |     |
| text areas, 399-400                                          |     |          |     |
| element,                                                     |     |          |     |
| attribute:                                                   |     |          |     |
| 402                                                          |     |          |     |
|                                                              | 413 | ONCHANGE | 399 |

| textfields, 397                                                  |                         |                       |        |                    |
|------------------------------------------------------------------|-------------------------|-----------------------|--------|--------------------|
| ONCLICK attribute:                                               |                         |                       |        |                    |
| check boxes, 407 JavaScript buttons, 405                         |                         |                       |        |                    |
| ONKEYDOWN attribute, text areas, 399-400                         |                         |                       |        |                    |
| reset buttons, 404 submit buttons, 402 ONDBLCLICK attribute:     |                         |                       |        |                    |
| JavaScript buttons, 405 reset buttons, 404 submit buttons, 402   |                         |                       |        |                    |
| attribute:                                                       |                         |                       |        |                    |
| ONFOCUS check boxes, 407                                         |                         |                       |        |                    |
| file upload controls,                                            |                         |                       |        |                    |
| 413 JavaScript buttons, 405                                      |                         |                       |        |                    |
| password fields, 398                                             |                         |                       |        |                    |
| radio buttons, 408                                               |                         |                       |        |                    |
| reset buttons, 404 submit buttons, 402                           |                         |                       |        |                    |
| TEXTAREA element,                                                |                         |                       | 399    |                    |
| text areas, 399-400                                              |                         |                       |        |                    |
| textfields, 397                                                  |                         |                       |        |                    |
| ONKEYPRESS attribute: password fields, 398 TEXTAREA element, 399 |                         |                       |        |                    |
| text areas, 399-400                                              |                         |                       |        |                    |
| textfields, 397 attribute:                                       |                         |                       |        |                    |
| ONKEYUP password fields, 398                                     |                         |                       |        |                    |
| TEXTAREA element,                                                |                         |                       |        |                    |
| text areas, 399-400                                              |                         |                       |        |                    |
| textfields, 397                                                  |                         |                       |        |                    |
| store example,                                                   |                         |                       |        |                    |
| 209-27 210-13                                                    |                         |                       |        |                    |
| 399                                                              |                         |                       |        |                    |
| Online                                                           |                         |                       |        |                    |
|                                                                  | building the front end, | Catalog.java , 225-27 | 210-13 | CatalogPage.java , |

| implementing shopping cart/catalog                                                                                               |                          |
|----------------------------------------------------------------------------------------------------------------------------------|--------------------------|
| items, 220-27 Item.java , 222-23                                                                                                 |                          |
| ItemOrder.java , 224-25 KidsBooksPage.java , 213,                                                                                |                          |
| 214 OrderPage.java , 216-20                                                                                                      |                          |
| ShoppingCart.java , 221-22 TechBooksPage.java , 213, 215                                                                         |                          |
| Online travel agent, 75 BookFlights.jsp , 365                                                                                    |                          |
| FrequentFlyerInfo.java , 374 HotelInfo.java , 375 RentalCarInfo.java , 374 TravelCustomer.java , 366-72 TravelData.java , 372-73 |                          |
| Travel.java , 363-64 /travel/quick-search.html ,                                                                                 |                          |
| 361-62 ONRESET attribute, FORM element, 395                                                                                      |                          |
| ONSELECT attribute: file upload controls, 41 password fields, 398 text areas, 399-400                                            |                          |
| textfields, 397 ONSUBMIT attribute:                                                                                              |                          |
| FORM element, 395                                                                                                                |                          |
| TEXTAREA element,                                                                                                                |                          |
| openConnection method,                                                                                                           |                          |
| 440 OrderPage.java , 216-20 out variable, 235, 238, 244-45                                                                       |                          |
| P Packaging servlets, 15, 27-31                                                                                                  |                          |
| page attribute, 381                                                                                                              |                          |
| Page compression, 104-7 pageContext variable, 245                                                                                |                          |
| page directive, 245-64                                                                                                           |                          |
| autoflush attribute, 260                                                                                                         |                          |
| 399                                                                                                                              |                          |
|                                                                                                                                  | buffer attribute, 259-60 |

| contentType attribute, 251-57 ContentType.jsp , 252                                                                                                                                                           |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| generating Excel spreadsheets, 254- 57 errorPage attribute, 261                                                                                                                                               |
| extends attribute, 260                                                                                                                                                                                        |
| import attribute, 248-51 directories for custom classes, 248-                                                                                                                                                 |
| example, 249-51 ImportAttribute.jsp , 250-51 info attribute, 260 isErrorPage attribute, 261-64 ComputeSpeed.jsp , 261-62, 264 SpeedErrors.jsp , 262-63 isThreadSafe attribute, 258-59 language attribute, 264 |
| PasswordBuilder.java , 113 Password fields, 397-98 Password-protecting servlets, 89-93 PATH_INFO , 117 , 117                                                                                                  |
| PATH_TRANSLATED PersistentConnection.java , 165-66 PHP, 231 vs. JavaServer Pages (JSP), 10-11 Poskanzer, Jef, 169 PostForm.html , 388-89                                                                      |
| POST requests, 21, 32, 66-67, 69, 70, 71, 74, 77, 78, 93, 95, 101, 244, 386, 390 Pragma request header, 102, 146                                                                                              |
| Pragma response header, 151                                                                                                                                                                                   |
| Predefined variables (implicit                                                                                                                                                                                |
| 244-45                                                                                                                                                                                                        |
| application , 245 config , 245                                                                                                                                                                                |
| out , 244-45                                                                                                                                                                                                  |
| objects),                                                                                                                                                                                                     |

| page , 245-46 pageContext , 245 request , 244 response , 244                                                                                        |
|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| session , 245                                                                                                                                       |
| prefix attribute, 313, 318 prepareCall method, 464 PreparedStatements.java , 498-501                                                                |
| ries), 497-501 prepareStatement method, Connec- tion class, 464 PrimeExample.jsp , 323                                                              |
| PrimeList.java , 155, 160-61 PrimeNumbers.html , 158 PrimeNumbers.java , 156-57 Primes.java , 155, 161-62, 315 Printing HTTP request headers, 96-98 |
| println statements, 22, 32, 51, 236 PrintWriter, 22, 26, 105, 124, 144, 168, 235, 238, 244, 259, 315                                                |
| private value, Cache-Control response header, 146                                                                                                   |
| ProtectedPage.java , 110-12 request header,                                                                                                         |
| public value, Cache-Control header, 146 Pure servlets vs. JavaServer Pages                                                                          |
| Push buttons, 400-408 JavaScript buttons, 405 reset buttons, 404 submit buttons, 401-3                                                              |
| PUT requests, 102                                                                                                                                   |
| putValue method, 203, 205, 207                                                                                                                      |
| (JSP), 11                                                                                                                                           |
| 103                                                                                                                                                 |
| Proxy-Authorization                                                                                                                                 |
| response                                                                                                                                            |

Q

QueryCollection.java

, 447-48

| Query data, See Form data    |
|------------------------------|
| QueryGenerator.java , 449-50 |
| QUERY_STRING , 66, 117       |
| QueryViewer.java , 491-94    |
| quick-search.html , 361-62   |

| R                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Radio buttons, 407-8 CHECKED attribute, 408 NAME attribute, 408 ONBLUR attribute, 408 ONCLICK attribute, 408 ONFOCUS attribute, 408 Raise, obtaining, xxiii Range request header, 103 Raw servlet output, showing, 377-80                                                                                                                                                                              |
| readObject method, 441 Referer request header, 93, 103 Refresh response header, 152, 154, 155 REMOTE_ADDR, 117 REMOTE_HOST, 118 REMOTE_USER, 118 removeAttribute method, 205 removeValue method, 203 - 4 RentalCarInfo.java, 374 RepeatExample.jsp, 341 RepeatTag.java, 339 replaceIfMissing method, 76 replaceIfMissingOrDefault method, 76 RequestDispatcher class, 354 , 355 , 357 - 58 , 375 , 381 |
| forward method, 354-7 include method, 271, 375-7 Request forwarding example, 355 request.getAuthType , 116                                                                                                                                                                                                                                                                                             |
| request.getContentLength , 100 , 116 request.getContentType , 116                                                                                                                                                                                                                                                                                                                                      |